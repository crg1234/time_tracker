<h1>Task Title: <%= @task.title %></h1>
<h2>Task Description: <%= @task.description %></h2>
<p>Task Billing Rate: â‚¬<%= @task.billing_rate %></p>

<p>Time right now:<%= Time.now %></p>

<% time_difference_in_sec = (@task.end_time.to_time.to_i - @task.start_time.to_time.to_i).abs %>
<p>Time difference from end time to start time: <%= time_difference_in_sec / 60 %> minutes</p>

<div class="container prose m-5">
  <div
    data-controller="timer"
    data-timer-from-value="2023-06-13T10:00:00.111Z"
    data-timer-to-value="2023-06-16T11:10:32.111Z"
  >
      <div data-time-target="calculateTimeDifference">
        <div class="btn btn-success" data-timer-target="startTime" data-action="click->timer#startTimeTracker">Start Timer</div>

        <div class="btn btn-danger" data-timer-target="stopTime" data-action="click->timer#stopTimeTracker">Stop Timer</div>

        <div class="btn btn-info" data-action="click->timer#calculateTimeDifference">Calculate Time Difference</div>
      </div>






      <div style="display: none" data-timer-target="before">
        Timer Started At: <time data-timer-target="fromTime"></time>
      </div>
      <div style="display: none" data-timer-target="during">
        Time Since Start: <time data-timer-target="toTimeRelative"></time>
      </div>
      <div style="display: none" data-timer-target="after">
        Timer Stopped At: <time data-timer-target="toTime"></time>
      </div>
  </div>
</div>


<%# <script>
      // set the date we are counting down to
      var countDown = new Date("jan 1, 2027 12:12:50").getTime();
      console.log(countDown)

      //update the count down in every 1 second
      var update = setInterval(function () {

         // get the today's date and time
         var now = new Date().getTime();
         console.log(now)

         //find the difference b/w countDown and now
         var diff = countDown - now;
         console.log(diff)

         //now we are calculating time in days, hrs, minutes, and seconds.
         var days = Math.floor(diff / (1000 * 60 * 60 * 24));
         var hrs = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
         var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
         var seconds = Math.floor((diff % (1000 * 60)) / 1000);
         console.log(seconds)

      })

      //    //now output the result in an element with id ="time"
      //    document.getElementById("time").innerHTML =
      //    days + "-D: " + hrs + "-H: " + minutes + "-M: " + seconds + "-S ";
      //    if (diff < 0) {
      //       clearInterval(update);
      //       document.getElementById("time").innerHTML = "Expired";
      //    }
      // }, 1000);
</script> %>
